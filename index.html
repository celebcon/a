<html>

<body style="background-color:lightblue;">

<canvas id="myCanvas" onload = 'move()' onclick = "clickfunc()" width="800" height="400" style=" padding-left: 0;
    padding-right: 0;
	
    margin-left: auto;
    margin-right: auto;
	margin-top: 0px;
    display: block;border:3px solid white;">
</canvas>

</body>


<script>
var canvas = document.getElementById("myCanvas");
var ctx = canvas.getContext("2d");
ctx.font = "16px Arial";

var canvasX = 0; 
var canvasY = 0; 
canvas.addEventListener("mousemove", function(e) { 
    var cRect = canvas.getBoundingClientRect();              // Gets the CSS positions along with width/height
    canvasX = Math.round(e.clientX - cRect.left);        // Subtract the 'left' of the canvas from the X/Y
    canvasY = Math.round(e.clientY - cRect.top);         // positions to get make (0,0) the top left of the    
});


function sound(src) {
 this.sound = document.createElement("audio");
this.sound.src = src;
this.sound.setAttribute("preload", "auto");
this.sound.setAttribute("controls", "none");
this.sound.style.display = "none";
document.body.appendChild(this.sound);
this.play = function(){
this.sound.play();
}
this.stop = function(){
this.sound.pause();
}   
}

backtrack = new sound("sounds/backtrack.mp3");

var button = function(x,y,endx,endy,c,name) {
    this.x = x;
    this.y = y;
    this.endx = endx;
	this.endy = endy;
    this.w = this.endx - this.x;
    this.h = this.endy - this.y;
	this.c = c;
	this.bought = false; 
	this.name = name; 
	this.checked = false;
};

button.prototype.draw = function() {
    ctx.fillStyle = "red"; 
	ctx.strokeStyle = "red"; 
	ctx.lineWidth = 5;
    ctx.strokeRect(this.x, this.y, this.w, this.h);
	

};

button.prototype.move = function() {
		
};

var buttonArray = [];

var choicesArray = []; 


var scrollX = 0; 


function clickfunc(){

if (scene == 0 && moveX < 400){scene = scene + 1;}

for(var i = 0; i < buttonArray.length ; i++) {
        if (canvasX > buttonArray[i].x && canvasX < buttonArray[i].x + buttonArray[i].w){
			if (canvasY > buttonArray[i].y && canvasY < buttonArray[i].y + buttonArray[i].h && buttonArray[i].bought == false){
				
			points = points - buttonArray[i].c; 
			
			if (points >= 0){
			buttonArray[i].bought = true;
			buttonArray[i].checked = true;
		
			choicesArray.push(buttonArray[i].name);
			if (scene == 4){buttonArray = []; scene = 5;}
			if (scene == 3){buttonArray = []; scene = 4;}
			if (scene == 2){buttonArray = []; scene = 3;}
			if (scene == 1){buttonArray = []; scene = 2;}
			
			}
			
			if (points < 0){points = points + buttonArray[i].c; }
		
           }
		}
		
}
	

if (scene == 2 && moveX == 800){

   if (scrollX > -800){
	if (canvasX > 480 && canvasX < 530){
	if (canvasY > 10 && canvasY < 80){scrollX = scrollX - 800;}
	}
   }
	
	if (scrollX < 800){
	if (canvasX > 670 && canvasX < 730){
	if (canvasY > 10 && canvasY < 80){scrollX = scrollX + 800;}
	}
	}
}

if (scene == 1){
buttonArray.push(new button(50, 177,204,317,0, "beach"));
buttonArray.push(new button(233, 177,382,317,1, "Motel"));
buttonArray.push(new button(414, 177,562,317,2, "Hotel"));
buttonArray.push(new button(595, 177,740,317,3, "Penthouse"));
}

if (scene == 2 && scrollX == 0){
buttonArray = [];
buttonArray.push(new button(8, 100,188,340,2, "Hailee Steinfeld"));
buttonArray.push(new button(206, 100,392,340,1, "Dakota Fanning"));
buttonArray.push(new button(411, 100,595,340,2, "Eiza Gonzalez"));
buttonArray.push(new button(612, 100,793,340,1, "Heidi Klum"));

}

if (scene == 2 && scrollX == -800){
buttonArray = [];
buttonArray.push(new button(8, 100,188,340,1, "Bryce Dallas Howard"));
buttonArray.push(new button(206, 100,392,340,2, "Barbara Palvin"));
buttonArray.push(new button(411, 100,595,340,2, "Isla Fisher"));
buttonArray.push(new button(612, 100,793,340,1, "Shailene Woodley"));

}

if (scene == 2 && scrollX == 800){
buttonArray = [];
buttonArray.push(new button(8, 100,188,340,1, "Aulil Cravalho"));
buttonArray.push(new button(206, 100,392,340,1, "Kirsten Dunst"));
buttonArray.push(new button(411, 100,595,340,2, "Billie Eilish"));
buttonArray.push(new button(612, 100,793,340,2, "Lili Reinhart"));

}




if (scene == 3){
buttonArray.push(new button(0, 162,184,340,1, "Lap Dance"));
buttonArray.push(new button(202, 162,386,340,2, "Hand Job"));
buttonArray.push(new button(400, 162,592,340,3, "Blowjob"));
buttonArray.push(new button(600, 160,790,340,3, "Tit Fuck"));

}


if (scene == 4){
buttonArray.push(new button(0, 162,184,340,3, "Anal"));
buttonArray.push(new button(202, 162,386,340,2, "Cowgirl"));
buttonArray.push(new button(400, 162,592,340,3, "Doggystyle"));
buttonArray.push(new button(600, 160,790,340,2, "Missionary"));

}


if (scene == 5 && moveX == 2000){

if (canvasX > 140 && canvasX < 190){
	if (canvasY > 150 && canvasY < 210){scrollX = -800;}
}

if (canvasX > 20 && canvasX < 80){
	if (canvasY > 150 && canvasY < 210){scrollX = 0;}
}

}


if (scene == 5){

if (scrollX == 0){
buttonArray = [];
buttonArray.push(new button(270, 50,450,230,0, "Seduction Potion"));
buttonArray.push(new button(560, 50,740,230,0, "Longevity Potion"));
}

if (scrollX == -800){
buttonArray = [];
buttonArray.push(new button(270, 50,450,230,0, "Pleasure Potion"));
buttonArray.push(new button(560, 50,740,230,0, "Nature Potion"));
}

}


}//END OF CLICKFUNC

var myVar = setInterval(move, 20);

var scene = 0;

var moveX = 0; 

var points = 10; 

function move() {

//backtrack.play();

//BG
ctx.fillStyle = "black";
ctx.fillRect(0,0, 800, 400);

ctx.drawImage(intro, 0, 0 - moveX,800,400);
ctx.drawImage(loc, 0, 400 - moveX,800,400);
ctx.drawImage(celeb, 0 + scrollX, 800 - moveX,800,400);
ctx.drawImage(celebPT1, 800 + scrollX, 800 - moveX,800,400);
ctx.drawImage(celebPT3, -800 + scrollX, 800 - moveX,800,400);

ctx.drawImage(fore, 0, 1200 - moveX,800,400);

ctx.drawImage(main, 0, 1600 - moveX,800,400);

ctx.drawImage(pot, scrollX, 2000 - moveX,800,400);
ctx.drawImage(potPT2, 800 + scrollX, 2000 - moveX,800,400);


if (scene == 1 && moveX < 400){moveX = moveX + 10;}
if (scene == 2 && moveX < 800){moveX = moveX + 10;}
if (scene == 3 && moveX < 1200){moveX = moveX + 10;}
if (scene == 4 && moveX < 1600){moveX = moveX + 10;}
if (scene == 5 && moveX < 2000){moveX = moveX + 10;}

//Prototypes
for(var i = 0; i < buttonArray.length ; i++) {
        buttonArray[i].draw();
        buttonArray[i].move();
}


ctx.font = "30px Arial";
ctx.fillStyle = "cyan";
ctx.fillText("X: " + canvasX,3,30);
ctx.fillText("Y: " + canvasY,3,60);
ctx.fillText("scrollX " + scrollX,400,60);

ctx.fillText("Points: " + points,3,90);
ctx.fillText("Scene: " + scene,300,90);



//output
document.getElementById("demo").value = choicesArray;



}//End of FUNCTION


</script>

<input type="text" size="50" id="demo" value="Some text...">

<img id="intro"  style="display:none; visibility:hidden;" src="intro.png" alt="">
<img id="loc"  style="display:none; visibility:hidden;" src="loc.png" alt="">
<img id="check"  style="display:none; visibility:hidden;" src="check.png" alt="">
<img id="fore"  style="display:none; visibility:hidden;" src="fore.png" alt="">
<img id="celeb"  style="display:none; visibility:hidden;" src="celeb.png" alt="">
<img id="celebPT1"  style="display:none; visibility:hidden;" src="celebPT1.png" alt="">
<img id="celebPT3"  style="display:none; visibility:hidden;" src="celebPT3.png" alt="">
<img id="main"  style="display:none; visibility:hidden;" src="main.png" alt="">
<img id="pot"  style="display:none; visibility:hidden;" src="pot.png" alt="">
<img id="potPT2"  style="display:none; visibility:hidden;" src="potPT2.png" alt="">

</html> 
